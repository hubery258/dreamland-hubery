# lec笔记

主要来自lec以及教材.

## function

函数分为pure function 与 none-pure function:<br>
![pure函数与非纯函数](https://s41.ax1x.com/2026/02/02/pZ4XVvn.png)

??? abstract "**函数即抽象**"
    - 每个函数应该只做一件事。这项工作应该能用一个简短的名称来概括，并能用一行文字描述其特征。如果一个函数按顺序执行多项任务，则应将其拆分为多个函数
    - 不要重复自己（Don't Repeat Yourself）。这是软件工程的一个核心信条。所谓的 DRY 原则指出，多段代码不应描述冗余的逻辑。相反，逻辑应该只实现一次，赋予其名称，然后多次应用。如果你发现自己在复制粘贴一段代码，那么你可能已经找到了一个进行函数抽象的机会
    - 函数的定义应具有通用性。比如，作为 pow 函数的一个特例，平方函数就不在 Python 库中，因为 pow 函数可以计算任意幂次。

一个**对象**(object)无缝地将数据和操纵该数据的逻辑捆绑在一起。

将名称与值绑定，之后通过名称检索可能的值，意味着解释器必须维护某种内存来跟踪记录名称、值和绑定关系，这种内存被称为**环境**（environment）。函数内先在函数的 frame里找变量，找不到再到global frame里找。

对于多重赋值，所有 = 右边的表达式都会先求值，然后再与左边的名称绑定。比如:
```python
a = 10
b = 5
a, b = b, a+b
```
最终的a就为5,b就为15<br>
在python中变量可与函数绑定，比如定义了函数`xxx()`后可以`f=xxx`,以后就可以`f()`等效于`xxx()`。

**文档字符串**(docstring)应当在定义函数时与函数一起缩进，用三个引号括起来，在`help(<function name>)`时就会输出，注释则不会，例如:

``` python
>>> def pressure(v, t, n=6.022e23):
        """计算理想气体的压力（单位：帕斯卡）

        使用理想气体定律：http://en.wikipedia.org/wiki/Ideal_gas_law

        v -- 气体体积，单位：立方米
        t -- 绝对温度，单位：开尔文
        n -- 气体粒子数
        """
        k = 1.38e-23  # 玻尔兹曼常数
        return n * k * t / v
```
当只提供两个函数时自动把n处理为默认值，`n=...`这里没有进行赋值操作而是表示调用`pressure`函数时使用的默认值。

???+ tip "`help()`细节" 
    `help(xx)`在使用之前需要保证解释器读取得到这个函数，比如xx在hw01文件夹下的某个python文件内，在这个文件夹内打开解释器，那么要先import hw01让解释器的环境里存在hw01，之后再执行`help(hw01.xx)`.

[函数测试方式](https://composingprograms.netlify.app/1/5#_1-5-6-%E6%B5%8B%E8%AF%95)

![示例](https://s41.ax1x.com/2026/02/02/pZ4Xeuq.png)<br>
